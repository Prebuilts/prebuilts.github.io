<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tools Hub | Prebuilts.eu</title>

  <link rel="icon" href="Images/favicon.ico">
  <link rel="stylesheet" href="tools-hub.css">
</head>
<body>

<!-- HEADER -->
<header id="header">
  <div class="header-left">
    <img src="Images/Prebuiltid.png" id="HIcon" alt="Prebuilts Logo">
    <h1 id="HH1">Prebuilts</h1>
  </div>

  <div class="header-actions">
    <button id="darkModeToggle">ðŸŒ™</button>
    <button id="hamburger">â˜°</button>
  </div>
</header>

<!-- SIDE NAV -->
<nav id="nav">
  <button id="navClose">âœ•</button>
  <ul>
    <li><a href="https://prebuilts.eu/">Home</a></li>
    <li><a href="https://prebuilts.eu/Store">Store</a></li>
    <li><a href="https://prebuilts.eu/tools/hub" class="active">Tools Hub</a></li>
  </ul>
</nav>

<main>

  <section class="hero">
    <h2>Browse Online Tools</h2>
    <p>Explore calculators and utilities by category.</p>

    <select id="categoryFilter">
      <option value="all">All Categories</option>
      <option value="finance">Finance</option>
      <option value="tech">Tech</option>
      <option value="security">Security</option>
      <option value="utilities">Utilities</option>
    </select>
  </section>

  <section class="tools-section">
    <div id="toolsGrid" class="tools-grid"></div>
    <div id="loader" class="loader">Loading more tools...</div>
  </section>

</main>

<footer id="footer">
  <p>Â© 2026 Prebuilts</p>
</footer>

<script>
/* ================================
   TOOL DATABASE (NO DUPLICATES)
================================ */
const tools = [
  {
    title: "Energy Consumption Calculator",
    description: "Calculate electricity usage and cost.",
    category: "utilities",
    link: "https://prebuilts.eu/tools/electricity-calculator"
  },
  {
    title: "Website CPM Calculator",
    description: "Estimate ad revenue earnings.",
    category: "finance",
    link: "https://prebuilts.eu/tools/cpm-calculator"
  },
  {
    title: "Password Generator",
    description: "Generate secure passwords instantly.",
    category: "security",
    link: "https://prebuilts.eu/tools/password-generator"
  }
];

/* ================================
   RENDER LOGIC
================================ */
const grid = document.getElementById("toolsGrid");
const loader = document.getElementById("loader");
const filter = document.getElementById("categoryFilter");

let visibleCount = 0;
const LOAD_STEP = 6;

function getFilteredTools() {
  const category = filter.value;
  return category === "all"
    ? tools
    : tools.filter(t => t.category === category);
}

function renderTools(reset = false) {
  const filtered = getFilteredTools();

  if (reset) {
    grid.innerHTML = "";
    visibleCount = 0;
  }

  const slice = filtered.slice(visibleCount, visibleCount + LOAD_STEP);

  slice.forEach(tool => {
    const card = document.createElement("div");
    card.className = "tool-card";
    card.innerHTML = `
      <h3>${tool.title}</h3>
      <p>${tool.description}</p>
      <a href="${tool.link}" class="tool-btn">Open Tool</a>
    `;
    grid.appendChild(card);
  });

  visibleCount += LOAD_STEP;

  loader.style.display =
    visibleCount >= filtered.length ? "none" : "block";
}

/* Infinite Scroll */
window.addEventListener("scroll", () => {
  if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 200) {
    renderTools();
  }
});

/* Category filter */
filter.addEventListener("change", () => {
  renderTools(true);
});

/* Initial load */
renderTools(true);

/* ================================
   HEADER CONTROLS (FIXED)
================================ */
document.addEventListener("DOMContentLoaded", () => {

  const hamburger = document.getElementById("hamburger");
  const nav = document.getElementById("nav");
  const navClose = document.getElementById("navClose");

  hamburger.addEventListener("click", () => {
    nav.classList.add("active");
  });

  navClose.addEventListener("click", () => {
    nav.classList.remove("active");
  });

  document.getElementById("darkModeToggle")
    .addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
    });

});
</script>

</body>
</html>
